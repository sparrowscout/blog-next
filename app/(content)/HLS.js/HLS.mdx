---
title: 'HLS.jsë€?'
date: '2023-08-24'
excerpt: 'âœï¸ ê°œë…ì„ ìŠì–´ë²„ë¦¬ì§€ ì•Šê¸° ìœ„í•´!'
---

# [HLS.js](https://github.com/video-dev/hls.js)

MSEë¥¼ í†µí•´, HLS í¬ë§·ìœ¼ë¡œ adaptive HTTP streamingì„ ì œê³µí•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

<br />

# [Media Source Extension(MSE)](https://www.w3.org/TR/media-source-2/)

adpative streamingì„ ìœ„í•´ ì œê³µë˜ëŠ” ë¸Œë¼ìš°ì € í‘œì¤€ ê¸°ìˆ ì´ë‹¤.

<br />

## adpative streaming (â†”ï¸ Progressive download)

ì‚¬ìš©ìì˜ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ(bandwidth)ì— ë”°ë¼ ëŒ€ì‘í•˜ëŠ” í•´ìƒë„ì˜ ë™ì˜ìƒì„ ì œê³µí•˜ëŠ” ê¸°ìˆ ì´ë‹¤.

ê¸°ì¡´ Progressive downloadë°©ì‹ì—ì„œëŠ” í•œê°€ì§€ í•´ìƒë„ë¥¼ ì„ íƒí•´ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë‹¤ìš´ë¡œë“œí•´ì„œ ì˜ìƒì„ ì œê³µí•˜ë‹¤ë³´ë‹ˆ ì‚¬ìš©ìì˜ ë„¤íŠ¸ì›Œí¬ ìƒí™©ì´ ë°”ë€Œì—ˆì„ ë•Œ ì§€ì†ì ìœ¼ë¡œ ë‚®ì€ í•´ìƒë„ì˜ ì˜ìƒì„ ì œê³µí•˜ê²Œë˜ê±°ë‚˜, ê¸´ ë²„í¼ë§ì„ ê²ªëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ ë°©ì‹ì´ adaptive streamingì´ë‹¤.

adaptive streamingì—ì„œëŠ” ì˜ìƒì„ ë‹¤ì–‘í•œ í•´ìƒë„ë¡œ ì¸ì½”ë”©í•´ segmentë¡œ ì˜ê²Œ ìª¼ê°œì„œ ì €ì¥í•´ë‘ê³  ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ segmentë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤.

<br />

# [HLS](https://developer.apple.com/streaming/)

adaptive **HTTP** streamingì„ ìœ„í•œ Manifest(Playlist) í¬ë§· ì¤‘ í•˜ë‚˜

<br />

### HLS.jsê°€ master playlistë¥¼ ë°›ìœ¼ë©´ â†’ MSEì—ê²Œ ì§€ì†ì ìœ¼ë¡œ segmentë¥¼ append

master playlist parsing â†’ <br/>
media playlist parsing â†’ <br/>
segment load (ì˜ˆì‹œì—ì„œëŠ” .ts) â†’ <br/>
tsë¥¼ MSEê°€ ë°›ì„ ìˆ˜ ìˆëŠ” mp4 í˜•ì‹ìœ¼ë¡œ transmux â†’ <br/>
MSE buffer append â†’ <br/>
ë¸Œë¼ìš°ì €ì—ì„œ ì˜ìƒ ë Œë”ë§ **< ì‚¬ìš©ì**

<br />

### master playlist (ë©”ì¸ m3u8):

í•´ìƒë„ ë³„ media playlistë“¤ì˜ ê²½ë¡œë¥¼ ê°–ê³ ìˆëŠ” ë°ì´í„° ë¬¶ìŒ

```text
#EXTM3U
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=2149280,CODECS="mp4a.40.2,avc1.64001f",RESOLUTION=1280x720,NAME="720"
url_0/193039199_mp4_h264_aac_hd_7.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=246440,CODECS="mp4a.40.5,avc1.42000d",RESOLUTION=320x184,NAME="240"
url_2/193039199_mp4_h264_aac_ld_7.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=460560,CODECS="mp4a.40.5,avc1.420016",RESOLUTION=512x288,NAME="380"
url_4/193039199_mp4_h264_aac_7.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=836280,CODECS="mp4a.40.2,avc1.64001f",RESOLUTION=848x480,NAME="480"
url_6/193039199_mp4_h264_aac_hq_7.m3u8
#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=6221600,CODECS="mp4a.40.2,avc1.640028",RESOLUTION=1920x1080,NAME="1080"
url_8/193039199_mp4_h264_aac_fhd_7.m3u8
```

<br />

### media playlist (ì„œë¸Œ m3u8):

segmentë“¤ì˜ ê²½ë¡œë¥¼ ê°–ê³  ìˆëŠ” ë°ì´í„° ë¬¶ìŒ

```text
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-PLAYLIST-TYPE:VOD
#EXT-X-TARGETDURATION:11
#EXTINF:10.000,
url_462/193039199_mp4_h264_aac_hd_7.ts
#EXTINF:10.000,
url_463/193039199_mp4_h264_aac_hd_7.ts
#EXTINF:10.000,
url_464/193039199_mp4_h264_aac_hd_7.ts
#EXTINF:10.000,
url_465/193039199_mp4_h264_aac_hd_7.ts
.
.
.
```

<br />

ì˜ê²Œ ìª¼ê°œì§„ segmentë¡œ ë°ì´í„°ë¥¼ ì œê³µí•˜ê¸°ë•Œë¬¸ì— ì‚¬ìš©ìì˜ ëŒ€ì—­í­(bandwidth)ì— ë”°ë¼ ë‹¤ìŒ ë°ì´í„°ë¥¼ ì‰½ê²Œ êµì²´í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ìê°€ ì»¨í…ì¸ ë¥¼ ë³´ëŠ” ì¤‘ì— ë„¤íŠ¸ì›Œí¬ ìƒíƒœê°€ ë‚˜ë¹ ì§€ë©´ ë” ë‚®ì€ bandwidthë¥¼ ê°€ì§€ê³  ìˆëŠ” media playlistì˜ segementë“¤ì„ ìš”ì²­í•œë‹¤.

ğŸ“ [hls.js demo page (playlist examples)](https://hlsjs.video-dev.org/demo/) <br/>
ğŸ“ [ì›¹ ê¸°ìˆ ë¡œ êµ¬í˜„í•˜ëŠ” Adaptive HTTP Streaming - NHN Cloud](https://meetup.nhncloud.com/posts/131)
