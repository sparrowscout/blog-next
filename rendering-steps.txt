1:"$Sreact.fragment"
2:I[5495,["987","static/chunks/987-b5d202e4a91ac0c9.js","627","static/chunks/627-d52ecd6ebac85575.js","682","static/chunks/682-4a2ed3c8fe2f930e.js","177","static/chunks/app/layout-1c6386b24f598b13.js"],"default"]
3:I[9264,["987","static/chunks/987-b5d202e4a91ac0c9.js","627","static/chunks/627-d52ecd6ebac85575.js","682","static/chunks/682-4a2ed3c8fe2f930e.js","177","static/chunks/app/layout-1c6386b24f598b13.js"],"default"]
4:I[7555,[],""]
5:I[1295,[],""]
7:I[9665,[],"OutletBoundary"]
9:I[4911,[],"AsyncMetadataOutlet"]
b:I[9665,[],"ViewportBoundary"]
d:I[9665,[],"MetadataBoundary"]
e:"$Sreact.suspense"
10:I[8393,[],""]
:HL["/_next/static/media/545d602790193b00-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/5211d78018a0e7c4.css","style"]
:HL["/_next/static/css/42a7405719b7e933.css","style"]
0:{"P":null,"b":"OcgsnW-le-Xk0bEK_0iuQ","p":"","c":["","rendering-steps"],"i":false,"f":[[["",{"children":["(content)",{"children":[["slug","rendering-steps","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5211d78018a0e7c4.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/42a7405719b7e933.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":["$","body",null,{"className":"h-dvh w-full __className_dd9a7c  bg-[repeating-linear-gradient(to_bottom,_#f8f8f8,_#f8f8f8_30px,_#000000_31px)] antialiased","children":[["$","$L2",null,{}],["$","$L3",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]}]]}],{"children":["(content)",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":"$0:f:0:1:1:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:style","children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":"$0:f:0:1:1:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:children:props:children:1:props:style","children":404}],["$","div",null,{"style":"$0:f:0:1:1:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:children:props:children:2:props:style","children":["$","h2",null,{"style":"$0:f:0:1:1:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:children:props:children:2:props:children:props:style","children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","rendering-steps","d"],["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L6",null,["$","$L7",null,{"children":["$L8",["$","$L9",null,{"promise":"$@a"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$Lb",null,{"children":"$Lc"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$Ld",null,{"children":["$","div",null,{"hidden":true,"children":["$","$e",null,{"fallback":null,"children":"$Lf"}]}]}]]}],false]],"m":"$undefined","G":["$10",[]],"s":false,"S":true}
c:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}]]
8:null
11:I[8175,[],"IconMark"]
a:{"metadata":[["$","title","0",{"children":"my-cabinet"}],["$","meta","1",{"name":"description","content":"공부했던 내용, 작업했던 내용, 트러블 슈팅 기록용 블로그"}],["$","link","2",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","$L11","3",{}]],"error":null,"digest":"$undefined"}
f:"$a:metadata"
6:["$","div",null,{"className":"h-dvh select-text overflow-scroll pb-36 pl-3 pr-2 pt-24 md:px-5","children":["$","article",null,{"className":" box-border border-[1px] border-gray-900 bg-white p-4","children":[["$","h1",null,{"children":"영상이 브라우저에 렌더링되기까지 HLS가 하는 일"}],[["$","h1",null,{"children":"전체 흐름"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/img/IMG_1176.PNG","alt":"전체 단계"}]}],"\n",["$","p",null,{"children":"클라이언트에서 hls 객체를 생성한 후부터 시작해서 브라우저에 렌더링되기까지의 단계를 정리하면 위와 같은 단계로 정리할 수 있습니다."}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"children":"마스터 플레이리스트 부르기"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/img/IMG_1177.PNG","alt":"Master playlist-Media playlist"}]}],"\n",["$","p",null,{"children":"HLS.js에서는 main&sub playlist를 master&media playlist라고 부르고 있는데, 부르는 방식은 플레이어마다 다를 수 있습니다."}],"\n",["$","p",null,{"children":"master playlist에는 해상도와 bandwidth(대역폭)로 구분되어 있는 media playlist 경로들이 담겨있습니다. 담겨있는 media playlist들의 데이터를 정리하는 과정이 master playlist를 파싱하는 과정입니다.(영상, 오디오, 자막도 동일하게 담겨있을 수 있습니다.) hls는 처음에 사용자의 네트워크 상태로 몇 번째 해상도(레벨,트랙)의 media playlist를 재생할지 결정하고 해당 경로로 media playlist를 로드합니다."}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"children":"미디어 플레이리스트 부르기"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/img/IMG_1178.PNG","alt":"Media playlist-segment URL Load"}]}],"\n",["$","p",null,{"children":"media playlist에는 segment(*.m4s)경로들과 segment 각각의 정보들이 담겨있습니다. hls에서는 이 segment들을 순서대로 http 요청을 통해 로드하고, 재생합니다. 영상을 재생하면서 동시에 다음 segment들을 요청하기 위해서 media playlist가 파싱되고 난 후 hls 내에서 반복 함수 tick이 호출됩니다."}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"children":"MSE가 파싱할 수 있게 segment transmux하기"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/img/IMG_1179.PNG","alt":"segment URL Load-transmux"}]}],"\n",["$","p",null,{"children":"http 요청을 통해 받은 segement들을 MSE가 파싱할 수 있는, 받아들일 수 있는 형태로 변형시키기 위해서 transmux 과정을 거칩니다. stream controller 클래스에서 transmux에 push하고, 완료되면 result를 반환받습니다."}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"children":"transmux 완료한 데이터들을 MSE한테 던져주기"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/img/IMG_1180.PNG","alt":"transmux-bufferAppend"}]}],"\n",["$","p",null,{"children":"transmux가 완료된 데이터를 source buffer(MSE)에 순서대로 추가합니다. operation queue에 순서대로 들어가서 순서대로 브라우저에 렌더링됩니다."}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"children":"사용자의 네트워크 bandwidth를 의식하면서 위의 단계를 반복해서 영상을 재생하기!"}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/img/IMG_1181.PNG","alt":"tick"}]}],"\n",["$","p",null,{"children":["사용자가 영상을 재생하는 도중에 네트워크 변동이 생긴다면 새로운 media playlist를 요청해야하고, 네트워크 변동이 없다면 내부에서 매트로놈처럼 움직이는 doTickIdle을 기점으로 ",["$","code",null,{"children":"segment 요청"}]," → ",["$","code",null,{"children":"segment 로드"}]," → ",["$","code",null,{"children":"segment transmux"}]," → ",["$","code",null,{"children":"source buffer append"}]," → ",["$","code",null,{"children":"다음 segment 요청"}]," → ",["$","code",null,{"children":"segment 로드"}]," → ∙∙∙ 의 과정을 반복하면서 브라우저에 영상을 재생시킵니다."]}]]]}]}]
